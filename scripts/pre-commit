#!/bin/sh
# Pre-commit hook: runs format, lint, and compilation checks
# Run: ./gradlew installPreCommitHook (once) to install
# Bypass: git commit --no-verify

cd "$(git rev-parse --show-toplevel)" || exit 1
if [ -f ./gradlew.bat ]; then
  ./gradlew.bat preCommitCheck
else
  ./gradlew preCommitCheck
fi
exit $?
